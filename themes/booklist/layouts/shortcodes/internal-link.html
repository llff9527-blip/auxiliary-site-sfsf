{{/*
  Internal Link Shortcode - SEO ä¼˜åŒ–çš„å†…é“¾ç”Ÿæˆå™¨

  ä½¿ç”¨æ–¹æ³•:
  {{< internal-link novel-id="12345" text="ç‚¹å‡»é˜…è¯»åŸæ–‡" >}}
  {{< internal-link novel-id="12345" >}} (ä½¿ç”¨é»˜è®¤æ–‡æœ¬)

  å‚æ•°:
  - novel-id (å¿…å¡«): å°è¯´ID,ç”¨äºæ„å»ºä¸»ç«™URL
  - text (å¯é€‰): é”šæ–‡æœ¬,é»˜è®¤ä¸º"é˜…è¯»åŸæ–‡"
*/}}

{{ $novelId := .Get "novel-id" }}
{{ if not $novelId }}
  {{ errorf "internal-link shortcode requires 'novel-id' parameter. Usage: {{< internal-link novel-id=\"12345\" >}}" }}
{{ end }}
{{ $text := .Get "text" | default "é˜…è¯»åŸæ–‡" }}
{{ $mainSiteUrl := .Site.Params.mainSiteUrl | default "https://example.com" }}
{{ $novelUrl := printf "%s/novel/%s" $mainSiteUrl $novelId }}

<a href="{{ $novelUrl }}"
   class="internal-link"
   rel="noopener nofollow"
   target="_blank"
   title="åœ¨ä¸»ç«™é˜…è¯»å®Œæ•´å†…å®¹">
  <span class="link-icon">ğŸ”—</span>
  <span class="link-text">{{ $text }}</span>
</a>
